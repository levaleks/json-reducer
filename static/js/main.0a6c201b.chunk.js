(this["webpackJsonpjson-reducer"]=this["webpackJsonpjson-reducer"]||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=n(19),a=n.n(s),i=n(163),c=n(128),l=n(171),j=(n(103),n(86)),d=n(30),h=n(25),b=n(180),u=n(174),p=n(176),O=n(87),x=n(178),m=n(179),g=n(73),f=n.n(g),v=n(48),y=n.n(v),w=n(85),k=n(165),S=n(8),E=n(168),C=n(169),M=n(162),B=n(173),F=n(175),z=n(170),I=n(177),U=n(167);const P=Object(S.a)(E.a)((()=>({height:"100%"}))),A=Object(S.a)(C.a)((()=>({display:"flex",alignItems:"center",color:"white",gap:"8px",fontSize:"14px"}))),N=Object(S.a)(M.a)((({theme:e})=>({height:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3),gap:e.spacing(2)}))),T=Object(S.a)(B.a)((()=>({position:"relative",height:"100%"}))),G=Object(S.a)(M.a)((()=>({height:"100%",background:"#272822"}))),H=Object(S.a)(u.a)((({theme:e})=>({gap:e.spacing(1)}))),$=Object(S.a)(F.a)((()=>({flexShrink:0}))),J=Object(S.a)(z.a)((()=>({flexShrink:0}))),L=Object(S.a)(p.a)((()=>({display:"flex",flexDirection:"column",flexGrow:1,position:"relative"}))),R=Object(S.a)(p.a)((({theme:e})=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",maxHeight:"100%",overflowY:"auto",padding:e.spacing(1)}))),D=Object(S.a)(I.a)((({theme:e})=>({position:"absolute",background:`${e.palette.background.paper}33`}))),V=Object(S.a)("ul")((({theme:e})=>({marginBottom:0,padding:e.spacing(0,0,0,2)}))),W=Object(S.a)(U.a)((()=>({maxWidth:"80%"})));var _=n(172);const K=Object(S.a)(_.a)((()=>({textOverflow:"ellipsis",overflow:"hidden"})));var Y=n(13);const q="jsonValue",Q="return jsonValue;",X=e=>new Function(q,e);class Z{constructor(){this.shouldShowOnBeforeUnloadPopup=!1,this.inputFile={name:"example.json",content:[{id:1,name:"Leanne Graham",email:"Sincere@april.biz"},{id:2,name:"Ervin Howell"},{id:3,name:"Clementine Bauch",email:"Nathan@yesenia.net",phone:"1-463-123-4447"}]},this.handler={fn:X(Q),error:null},this.output={value:{},error:null},Object(Y.d)(this,{inputFile:Y.f.ref,handler:Y.f.ref,output:Y.f.ref},{autoBind:!0})}setInputFile(e){this.inputFile=e,this.shouldShowOnBeforeUnloadPopup=!0}setHandler(e){try{this.handler={fn:X(e),error:null},this.shouldShowOnBeforeUnloadPopup=!0}catch(t){this.handler={fn:this.handler.fn,error:t instanceof Error?t:new Error(`Unknown: ${t}`)}}}applyHandlerToInputFileContent(){try{this.output={value:this.handler.fn(this.inputFile.content),error:null},this.shouldShowOnBeforeUnloadPopup=!0}catch(e){this.output={value:{},error:e instanceof Error?e:new Error(`Unknown: ${e}`)}}}}const ee=Object(r.createContext)(null);class te extends Error{constructor(e){super(("Component is used outside of context provider. "+(e?`Check ${e}.`:"")).trim()),this.name="NoContextProviderError"}}const ne=e=>{const t=Object(r.useContext)(e);if(!t)throw new te;return t},re=e=>e.fileSizeTooSmall?"File size is too small!":e.fileSizeToolarge?"File size is too large!":e.readerError?"Problem occured while reading file!":e.maxLimitExceeded?"Too many files":e.minLimitNotReached?"Not enought files":"Unknown error",oe=e=>{const[t,n]=Object(r.useState)(e);return{errorMessage:t,setErrorMessage:n,clearErrorMessage:()=>n(null)}};var se=n(1);const ae=Object(d.a)((()=>{const e=ne(ee),[t,{filesContent:n,loading:r,clear:o,errors:s}]=Object(w.a)({accept:".json",multiple:!1}),{errorMessage:a,setErrorMessage:i,clearErrorMessage:c}=oe(null);if(!r&&s.length&&(i({title:"File error",body:s.length>1?Object(se.jsx)(V,{children:s.map((e=>Object(se.jsx)("li",{children:re(e)})))}):re(s[0])}),o()),!r&&n.length){const[{content:t,name:r}]=n;try{const n=JSON.parse(t);Object(k.a)(n)||Array.isArray(n)?(i(null),e.setInputFile({content:n,name:r})):i({title:"Invalid data type",body:"Must be either array or object"})}catch(l){i(l instanceof Error?{title:l.name,body:l.message}:{title:"Unknown error",body:String(l)})}o()}return Object(se.jsxs)(G,{children:[Object(se.jsxs)(L,{children:[Object(se.jsx)(R,{children:Object(se.jsx)(y.a,{src:e.inputFile.content,enableClipboard:!1,theme:"monokai"})}),Object(se.jsxs)(D,{open:Boolean(a)||r,children:[r&&Object(se.jsx)(x.a,{size:24}),!r&&a&&Object(se.jsxs)(W,{variant:"filled",severity:"error",onClose:c,children:[Object(se.jsx)(m.a,{children:a.title}),a.body]})]})]}),Object(se.jsx)(b.a,{position:"static",children:Object(se.jsxs)(H,{variant:"dense",children:[Object(se.jsx)(K,{variant:"caption",display:"block",children:e.inputFile.name}),Object(se.jsx)(p.a,{sx:{flexGrow:1}}),Object(se.jsx)(J,{variant:"text",size:"small",onClick:t,endIcon:Object(se.jsx)(f.a,{}),children:"Open"})]})})]})}));var ie=n(164),ce=n(77),le=n.n(ce),je=n(78),de=n.n(je),he=n(80),be=n.n(he),ue=n(81),pe=n.n(ue),Oe=n(79),xe=n.n(Oe),me=n(75),ge=n.n(me),fe=(n(116),n(117),n(118),n(76));const ve=Object(S.a)(p.a)((({theme:e})=>({font:'14px/normal "Monaco", "Menlo", "Ubuntu Mono", "Consolas", "source-code-pro", monospace',background:"#272822",padding:e.spacing(1)}))),ye=Object(S.a)("span")((()=>({fontStyle:"normal",color:"#66D9EF"}))),we=Object(S.a)("span")((()=>({color:"#A6E22E"}))),ke=Object(S.a)("span")((()=>({fontStyle:"normal",color:"#FD971F"}))),Se=Object(S.a)(p.a)((({theme:e})=>({height:"100%",padding:e.spacing(1,2)}))),Ee=Object(d.a)((()=>{const e=ne(ee),t=Object(h.a)(),n=Object(fe.useClipboard)(),[o,s]=Object(r.useState)(!1),{errorMessage:a,setErrorMessage:i}=oe(null);Object(r.useEffect)((()=>{const{error:t}=e.handler;i(t?{title:t.name,body:t.message}:null)}),[e.handler,e.handler.error,i]);const{errorMessage:c,setErrorMessage:l,clearErrorMessage:j}=oe(null);return Object(r.useEffect)((()=>{const{error:t}=e.output;l(t?{title:t.name,body:t.message}:null)}),[e.output,e.output.error,l]),Object(se.jsxs)(G,{children:[Object(se.jsxs)(L,{children:[Object(se.jsxs)(ve,{sx:{borderBottom:`1px dashed ${t.palette.divider}`},children:[Object(se.jsx)(ye,{children:"function"}),"\xa0",Object(se.jsx)(we,{children:"anonymous"}),"(",Object(se.jsx)(ke,{children:q}),")\xa0","{"]}),Object(se.jsx)(Se,{children:Object(se.jsx)(ge.a,{placeholder:Q,mode:"javascript",theme:"monokai",width:"100%",height:"100%",onChange:e.setHandler,fontSize:14,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!1,defaultValue:Q,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!0,enableSnippets:!1,tabSize:2}})}),Object(se.jsx)(ve,{sx:{borderTop:`1px dashed ${t.palette.divider}`},children:"}"}),Object(se.jsx)(D,{open:Boolean(c),children:c&&Object(se.jsxs)(W,{variant:"filled",severity:"error",onClose:j,children:[Object(se.jsx)(m.a,{children:c.title}),c.body]})})]}),Object(se.jsx)(b.a,{position:"static",children:Object(se.jsxs)(H,{variant:"dense",children:[Object(se.jsx)(ie.a,{title:a?Object(se.jsxs)(U.a,{variant:"filled",severity:"error",children:[Object(se.jsx)(m.a,{children:a.title}),a.body]}):Object(se.jsx)(U.a,{variant:"filled",severity:"success",children:"No syntax errors"}),componentsProps:{tooltip:{sx:{padding:0}}},children:Object(se.jsx)($,{size:"small",color:a?"error":"success",sx:{cursor:"help"},children:a?Object(se.jsx)(le.a,{}):Object(se.jsx)(de.a,{})})}),Object(se.jsx)(p.a,{sx:{flexGrow:1}}),Object(se.jsx)(J,{variant:"text",color:"secondary",size:"small",onClick:()=>{o||(s(!0),n.copy(e.handler.fn.toString()),setTimeout((()=>s(!1)),250))},endIcon:o?Object(se.jsx)(xe.a,{}):Object(se.jsx)(be.a,{}),children:"Copy"}),Object(se.jsx)(J,{variant:"text",size:"small",disabled:Boolean(a),onClick:e.applyHandlerToInputFileContent,endIcon:Object(se.jsx)(pe.a,{}),children:"Run"})]})})]})}));var Ce=n(83),Me=n.n(Ce),Be=n(82),Fe=n.n(Be);const ze=Object(d.a)((()=>{const e=ne(ee),{errorMessage:t,setErrorMessage:n}=oe(null);return Object(r.useEffect)((()=>{const{value:t}=e.output;Object(k.a)(t)||Array.isArray(t)?n(null):n({title:"Invalid data type",body:"Must be either array or object"})}),[e.output,e.output.value,n]),Object(se.jsxs)(G,{children:[Object(se.jsxs)(L,{children:[!t&&Object(se.jsx)(R,{children:Object(se.jsx)(y.a,{src:e.output.value,theme:"monokai"})}),Object(se.jsx)(D,{open:Boolean(t),children:t&&Object(se.jsxs)(W,{variant:"filled",severity:"error",children:[Object(se.jsx)(m.a,{children:t.title}),t.body]})})]}),Object(se.jsx)(b.a,{position:"static",children:Object(se.jsxs)(H,{variant:"dense",children:[Object(se.jsx)(p.a,{sx:{flexGrow:1}}),Object(se.jsx)(J,{variant:"text",color:"success",size:"small",disabled:Boolean(t)||Boolean(e.output.error),onClick:()=>{if(e.output.error)return;let t;try{t=JSON.stringify(e.output.value,null,2)}catch(r){n(r instanceof Error?{title:r.name,body:r.message}:{title:"Unknown error",body:String(r)})}void 0!==t&&Fe()(t,"output.json")},endIcon:Object(se.jsx)(Me.a,{}),children:"Save"})]})})]})})),Ie=Object(d.a)((()=>{const e=Object(h.a)();return Object(se.jsx)(P,{maxWidth:"xl",children:Object(se.jsxs)(N,{children:[Object(se.jsx)(b.a,{position:"static",children:Object(se.jsxs)(u.a,{variant:"dense",children:[Object(se.jsxs)(A,{href:"https://github.com/levaleks/json-reducer",underline:"hover",target:"_blank",rel:"noopener",children:[Object(se.jsx)("img",{src:"/json-reducer/github-mark-light.png",alt:"Github",width:24,height:24}),"JSON Reducer"]}),Object(se.jsx)(p.a,{sx:{flexGrow:1}}),Object(se.jsxs)(A,{href:"https://savelife.in.ua/en/donate-en",underline:"hover",target:"_blank",rel:"noopener",children:[Object(se.jsx)("img",{src:"/json-reducer/savelife-white.png",alt:"Come Back Alive",width:17,height:22}),"SUPPORT UKRAINE"]})]})}),Object(se.jsx)(T,{elevation:2,children:Object(se.jsxs)(O.a,{split:"vertical",resizerOptions:{css:{width:"1px",background:e.palette.divider}},children:[Object(se.jsx)(ae,{}),Object(se.jsx)(Ee,{}),Object(se.jsx)(ze,{})]})})]})})}));var Ue=n(84);const Pe=Object(Ue.a)({palette:{mode:"dark"}}),Ae=()=>{const[e]=Object(r.useState)(new Z);return Object(j.a)((t=>{e.shouldShowOnBeforeUnloadPopup&&t.preventDefault()})),Object(se.jsxs)(l.a,{theme:Pe,children:[Object(se.jsx)(i.a,{}),Object(se.jsx)(c.a,{styles:{"body, html, #app":{height:"100%"}}}),Object(se.jsx)(ee.Provider,{value:e,children:Object(se.jsx)(Ie,{})})]})};a.a.render(Object(se.jsx)(o.a.StrictMode,{children:Object(se.jsx)(Ae,{})}),document.getElementById("app"))}},[[121,1,2]]]);
//# sourceMappingURL=main.0a6c201b.chunk.js.map